<!--HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Doxygen 1.8.11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unity Modules: Core</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab" rel="stylesheet"> 
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
<!-- Custom resize overrides -->
<script type="text/javascript" src="resizeoverrides.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="index.html"><img alt="Logo" src="LeapMotion_Logo_White_Small.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Unity Modules
   </div>
   <div id="projectbrief">Leap Motion&#39;s Unity SDK.</div>
   <div id="projectnumber">4.4.0</div>
  </td>
   <td id="searchbar">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<div id="searchboxrect"></div>
<!-- end header part
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('core.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Core </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Core contains the fundamental assets necessary to get Leap hand data into your Unity project. The plugins we package with Core handle all the work of talking to the Leap Motion service that runs on your platform and provides hand data to your application from the sensor.</p>
<p>Core also contains a small set of prefabs to get you prototyping with a VR rig and Leap hands right away. You can create a new scene and drag in the <b>Leap Rig</b> prefab to immediately get an XR camera rig with Leap hand support, or you can drag in the LeapHandController prefab to work with a desktop-mounted Leap Motion Controller.</p>
<p>Finally, Core contains some lightweight utilities for a better Unity development experience, XR or otherwise. These utilities support our Modules and, optionally, your own application: It contains <a class="el" href="struct_leap_1_1_unity_1_1_query_1_1_query.html">Query</a>, our garbageless LINQ implementation, some useful data structures, a simple <a class="el" href="struct_leap_1_1_unity_1_1_animation_1_1_tween.html">Tween</a> library, and more!</p>
<p>Utilizing non-allocating libraries is crucial for VR development, where garbage collection means dropping frames and sickening your users; so our libraries generally eschew surprising memory allocation of any form. If you encounter garbage collection during normal Unity Modules use and it bothers you as much as it bothers us, let us know on our <a href="https://community.leapmotion.com/c/development" title="Leap Motion Developer Forum">Developer Forum</a>.</p>
<h1>Setting up your development environment</h1>
<p>Our <a href="https://developer.leapmotion.com/get-started/" title="Get Started with the Leap Motion SDK">developer SDK</a> includes the installer that can get a Leap service running on your platform. You'll need a Leap service to handle the communication between your Leap Motion Controller, your development machine, and your application.</p>
<p>You'll need <b>Unity 5.5 or later</b> to use our Core Assets. <em>However, if you're intending to use the Interaction Engine, it relies on physics features that are only present in <b>Unity 5.6 or later</b>.</em></p>
<p>Of course, you'll also need the Core package and any Modules you'd like to use imported into your Unity project! Refer to our mainpage guide if you're not sure how to do this.</p>
<h1>The prefabs will get you started</h1>
<p>The fastest way to get Hands in your Unity environment is to use the <b>Leap Rig</b> prefab (for VR/AR applications) or the <b>LeapHandController</b> prefab (for non-VR/AR applications).</p>
<p>If you've gone through the setup process but you aren't seeing hands in your application after adding the LeapHandController prefab or the Leap Rig prefab to your scene, be sure to check out our Troubleshooting section.</p>
<h1><a class="anchor" id="core-leap-components"></a>
The core Leap components</h1>
<h3>The Providers</h3>
<p><a class="el" href="class_leap_1_1_unity_1_1_leap_provider.html">LeapProvider</a> defines the basic interface our modules expect to use to retrieve <a class="el" href="class_leap_1_1_frame.html">Frame</a> data. This abstraction allows you to create your own LeapProviders, which is useful when testing or developing in a context where Leap Controller hardware isn't immediately.</p>
<p><a class="el" href="class_leap_1_1_unity_1_1_leap_service_provider.html">LeapServiceProvider</a> is the class that communicates with the Leap service running on your platform and provides Frame objects containing Leap hands to your application. Generally, any class that needs Hand data from the sensor will need a LeapServiceProvider to get that data.</p>
<p><a class="el" href="class_leap_1_1_unity_1_1_leap_x_r_service_provider.html">LeapXRServiceProvider</a> is the specialized component you should use for XR applications. Place this component directly on your XR camera, so that it can correctly account for differences in tracking timing between the sensor and your headset's pose tracking.</p>
<p>Finally, if your application needs to manually construct hand data for a standard <a class="el" href="class_leap_1_1_hand.html">Hand</a> pipeline or filter hand data coming through a LeapServiceProvider, the <a class="el" href="class_leap_1_1_unity_1_1_post_process_provider.html">PostProcessProvider</a> is a handy abstract class you can implement with a single function definition.</p>
<h3>The standard Hand pipeline</h3>
<p><a class="el" href="class_leap_1_1_unity_1_1_hand_model_manager.html">Hand Model Manager</a> provides the standard Leap <a class="el" href="class_leap_1_1_hand.html">Hand</a> data-flow through <a class="el" href="class_leap_1_1_unity_1_1_hand_model.html">Hand Models</a>, which are primarily used to drive visual representations of 3D hand models, such as the <a class="el" href="class_leap_1_1_unity_1_1_capsule_hand.html">Capsule Hands</a> or the <a class="el" href="class_leap_1_1_unity_1_1_rigged_hand.html">Rigged Hands</a>.</p>
<p>In order for the Hand Model Manager to function, you must add groups to its Model Pool &ndash; one for every pair of graphical IHandModels or HandModels that you intend to use in your application.</p>
<p>Our standard rig prefab places the Hand Model Manager as a direct child of the root <b>Leap Rig</b> object and as a sibling of the Main Camera. This prevents the hands from drifting if the player's origin space (the <b>Leap Rig</b> transform) is moved about the scene.</p>
<h1><a class="anchor" id="xr-rig-setup"></a>
Leap Motion XR rigs</h1>
<div class="image">
<img src="Basic_XR_Rig.png" alt="Basic_XR_Rig.png"/>
<div class="caption">
A basic XR rig setup with Capsule Hands.</div></div>
<p> The <b>Leap Rig</b> prefab is a ready-made XR rig to get you started building an XR application with Leap Motion. It consists of the following objects:</p>
<p>The <b>Leap Rig</b> is the root object. This is the Transform you should manipulate if you want to move your player in the XR space. This object contains the <em>optional</em> XRHeightOffset script by default, which offers a simple way to get your player's head at a consistent height across the different XR platforms built into Unity.</p>
<p>The <b>Main Camera</b> is a direct child of the Leap Rig. Its local position and rotation are controlled directly by Unity's XR integration; you won't be able to move it manually (for that, you should move its parent, the Leap Rig, sometimes called your camera rig or just your "rig").</p>
<p>The <a class="el" href="class_leap_1_1_unity_1_1_leap_x_r_service_provider.html">LeapXRServiceProvider</a> component is attached directly to the Main Camera. It is a specialized type of LeapServiceProvider that retrieves hand data from the sensor and also accounts for latency differences between the sensor and the headset's pose tracking. (This prevents tracked hands from drifting if you quickly look around in your headset.)</p>
<p>The <b>Hand Model Manager object</b> is a sibling of the Main Camera and is the parent object for all of your HandModels, such as <a class="el" href="class_leap_1_1_unity_1_1_capsule_hand.html">Capsule Hands</a> and <a class="el" href="class_leap_1_1_unity_1_1_rigged_hand.html">Rigged Hands</a>.</p>
<p>Any other player-centric objects, such as the <b>Attachment Hands</b> prefab, the <b>Interaction Manager</b> prefab in the <a class="el" href="interaction-engine.html">Interaction Engine</a>, or your own custom player objects, are also well-placed as siblings of the Main Camera.</p>
<h1><a class="anchor" id="a-basic-set-of-leap-hands"></a>
A basic set of Leap hands</h1>
<p>These hands will get you prototyping right away, and may even serve all the needs of a simple XR application.</p>
<h2>HandModel Implementations</h2>
<p>HandModel implementations get automatically pooled by the Hand Pool, but must be added manually as groups in your Hand Pool in order to function. Drop in the prefabs and then add references to the prefabs in your HandPool component to get these hands to render.</p>
<div class="image">
<img src="RiggedHands.png" alt="RiggedHands.png"/>
<div class="caption">
Rigged Hands</div></div>
<p> A recent addition to the Core assets, <a class="el" href="class_leap_1_1_unity_1_1_rigged_hand.html">Rigged Hands</a> are the standard hands we use at Leap when building demos or VR content. They are implemented as HandModels, which means they need to be added as an group in your LeapHandController object's HandPool in order to function. If you're interested in using a custom hand mesh with a SkinnedMeshRenderer similarly to the Rigged Hands, you'll want to check out the <a class="el" href="hands-module.html">Hands Module</a>.</p>
<p><b>Note:</b> For Rigged Hands to look correct, you need to either set your <code>Quality Settings/Other/Blend Weights</code> to "4 Bones" (global quality setting) or override the <code>Skinned Mesh Renderer</code>s' Quality setting to "4 Bones" (override quality setting for the Rigged Hands, which should be on by default). If you don't, the rigged hands will exhibit a strange stretch in the palm.</p>
<div class="image">
<img src="CapsuleHands.png" alt="CapsuleHands.png"/>
<div class="caption">
Capsule Hands</div></div>
<p> The <a class="el" href="class_leap_1_1_unity_1_1_capsule_hand.html">Capsule Hands</a> generate a set of spheres and cylinders to render hands using Leap hand data. They render all of the raw data available in a Leap hand in a procedural way. With relatively minor changes to the CapsuleHand. script, you can quickly create a set of hands that match your application's visual style.</p>
<h1><a class="anchor" id="attaching-objects-to-hand-joints"></a>
Attaching objects to hand joints</h1>
<div class="image">
<img src="AttachmentHands.png" alt="AttachmentHands.png"/>
<div class="caption">
Attachment Hands</div></div>
<p> <a class="el" href="class_leap_1_1_unity_1_1_attachments_1_1_attachment_hands.html">Attachment Hands</a> aren't usually used to render hands <em>per se</em>; rather, you can drag in the AttachmentHands prefab as a sibling of your Main Camera and use the Transforms that the script automatically generates to easily attach objects to Leap hands or to refer to specific target joints on a hand. To attach an object to a hand, just drag it to be a child of the joint you want to attach it to and align it as desired. <b>Attachment Hands aren't Hand Models</b>, so they don't need to be added to the Hand Model Manager's model pool to function, they only require an implementation of <a class="el" href="class_leap_1_1_unity_1_1_leap_provider.html">LeapProvider</a> (e.g. a <a class="el" href="class_leap_1_1_unity_1_1_leap_service_provider.html">LeapServiceProvider</a>) to be in your scene.</p>
<h1><a class="anchor" id="core-faq"></a>
FAQ</h1>
<p><b>Q: I'm working on a custom experience/headset integration and hand alignment needs to be <em>totally perfect.</em> I have control over the head rig that will be used for my experience. How can I make sure the hand aligns with the user's real hands perfectly?</b></p>
<p>A: Check your LeapXRServiceProvider object in the Leap Rig prefab. We've included an <code>Allow Manual Device Offset</code> checkbox in the Advanced section that will allow you to adjust where your application expects the Leap Motion Controller to be relative to the tracked headset. (If you don't see this checkbox, make sure you've upgraded to the latest version of the Core module.)</p>
<p>Because most Leap Motion VR rigs utilize a custom VR developer mount attachment, not all Leap Motion Controllers are mounted in the same place relative to the tracked positions of VR headsets. In order for hands in VR space to align perfectly with hands in the real world, your application needs to know <em>exactly</em> where the Leap Motion Controller is mounted relative to your tracked headset position and orientation. While the default values will usually produce an acceptable experience for VR, in passthrough or mixed-reality situations, a mismatch between the real world Leap position and the VR world Leap position &ndash; even of just a few degrees of tilt, or a centimeter of displacement &ndash; can shift hands too much to produce a plausible tracking experience.</p>
<p>Naturally, this solution isn't viable if you intend for your application to be run on a wide variety of headsets with a Leap Motion Controller attached. Under these circumstances, we recommend you keep the device offsets to their default values (uncheck the checkbox to revert them). </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 31 2018 17:27:33 for Unity Modules by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
